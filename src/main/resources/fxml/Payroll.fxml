<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane xmlns="http://javafx.com/javafx/13"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="controller.PayrollController"
            style="-fx-background-color: #EED9C4;">

    <!-- ================= TOP ================= -->
    <top>
        <VBox spacing="10">

            <!-- ===== TOP BAR (GIá»NG HOME) ===== -->
            <HBox alignment="CENTER_LEFT"
                  prefHeight="78"
                  spacing="14"
                  style="-fx-background-color: white;
                         -fx-border-color: #E6E8EF;
                         -fx-border-width: 0 0 1 0;">

                <padding>
                    <Insets top="14" bottom="14" left="18" right="18"/>
                </padding>

                <!-- Logo -->
                <HBox spacing="10">
                    <ImageView fitHeight="42" fitWidth="42" preserveRatio="true">
                        <image>
                            <Image url="@image/logo.png"/>
                        </image>
                    </ImageView>

                    <VBox spacing="2">
                        <Label text="GATEAUET"
                               style="-fx-font-size: 18px;
                                      -fx-font-weight: 800;
                                      -fx-text-fill: #1F2A37;"/>

                        <Label text="Payroll Management"
                               style="-fx-font-size: 12px;
                                      -fx-text-fill: #6B7280;"/>
                    </VBox>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- Banner -->
                <ImageView fitHeight="38" fitWidth="140" opacity="0.92" preserveRatio="true">
                    <image>
                        <Image url="@image/top-banner.png"/>
                    </image>
                </ImageView>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- User -->
                <HBox spacing="10">
                    <ImageView fitHeight="36" fitWidth="36" preserveRatio="true">
                        <image>
                            <Image url="@image/user.png"/>
                        </image>
                    </ImageView>

                    <VBox spacing="2">
                        <Label fx:id="lblUser" text="Staff"
                               style="-fx-font-size: 13px;
                                      -fx-font-weight: 600;
                                      -fx-text-fill: #111827;"/>

                        <Label fx:id="lblStatus" text="Not logged in"
                               style="-fx-font-size: 11px;
                                      -fx-text-fill: #6B7280;"/>
                    </VBox>
                </HBox>
            </HBox>

            <!-- ===== PAYROLL FILTER BAR ===== -->
            <HBox spacing="12" alignment="CENTER_LEFT"
                  style="-fx-background-color: #EED9C4;">
                <padding>
                    <Insets top="6" bottom="6" left="18" right="18"/>
                </padding>

                <Label text="Month:"
                       style="-fx-font-weight: bold;
                              -fx-text-fill: #3E2723;"/>

                <ComboBox fx:id="cbMonth" prefWidth="100"
                          style="-fx-background-color: #FFFDF8;
                                 -fx-border-color: #C19A6B;
                                 -fx-border-radius: 8;"/>

                <Button fx:id="btnCalculate"
                        text="Calculate Salary"
                        style="-fx-background-color: #8B5E3C;
                               -fx-text-fill: white;
                               -fx-background-radius: 10;"/>

                <Button fx:id="btnRefresh"
                        text="Refresh"
                        style="-fx-background-color: #8B5E3C;
                               -fx-text-fill: white;
                               -fx-background-radius: 10;"/>
            </HBox>

        </VBox>
    </top>

    <!-- ================= LEFT ================= -->
    <left>
        <TableView fx:id="tblPayroll"
                   prefHeight="400"
                   style="-fx-background-color: #FAEBD7;">
            <columns>
                <TableColumn fx:id="colEmpId" prefWidth="100" text="Employee ID"/>
                <TableColumn fx:id="colName" prefWidth="150" text="Full Name"/>
                <TableColumn fx:id="colMonth" prefWidth="70" text="Month"/>
                <TableColumn fx:id="colBaseSalary" prefWidth="120" text="Base Salary"/>
                <TableColumn fx:id="colBonus" prefWidth="100" text="Bonus"/>
                <TableColumn fx:id="colPenalty" prefWidth="100" text="Penalty"/>
                <TableColumn fx:id="colTotalSalary" prefWidth="130" text="Total Salary"/>
            </columns>
        </TableView>
    </left>

    <!-- ================= BOTTOM ================= -->
    <bottom>
        <HBox alignment="CENTER_RIGHT"
              style="-fx-background-color: #EED9C4;">
            <padding>
                <Insets top="10" bottom="10" left="10" right="10"/>
            </padding>

            <Label text="Employee can view only | Manager has full control"
                   style="-fx-text-fill: gray;"/>
        </HBox>
    </bottom>

</BorderPane>
