<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.CheckBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.ScrollPane?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700.0" prefWidth="1100.0" style="-fx-background-color: #F6EFE6;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.OrderController">

    <!-- TOP BAR -->
    <top>
        <HBox alignment="CENTER_LEFT" prefHeight="74.0" spacing="14.0" style="-fx-background-color: rgba(255,255,255,0.92);                      -fx-border-color: rgba(62,43,31,0.12);                      -fx-border-width: 0 0 1 0;">
            <padding>
                <Insets bottom="12" left="18" right="18" top="12" />
            </padding>

            <!-- Logo + Brand -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <ImageView fitHeight="53.0" fitWidth="150.0" preserveRatio="true" smooth="true">
                    <image>
                        <Image url="@../image/logo.jpeg" />
                    </image>
                </ImageView>

                <VBox alignment="CENTER_LEFT" spacing="2">
                    <Label style="-fx-font-size: 18px; -fx-font-weight: 900; -fx-text-fill: #3E2B1F;" text="GATEAUET" />
                    <Label style="-fx-font-size: 12px; -fx-text-fill: #7A6A5E;" text="Order" />
                </VBox>
            </HBox>

            <Region HBox.hgrow="ALWAYS" />

            <ImageView fitHeight="34.0" fitWidth="140.0" opacity="0.95" preserveRatio="true" smooth="true">
                <image>
                    <Image url="@image/top-banner.png" />
                </image>
            </ImageView>

            <Region HBox.hgrow="ALWAYS" />

            <!-- User -->
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <ImageView fitHeight="34.0" fitWidth="34.0" preserveRatio="true" smooth="true">
                    <image>
                        <Image url="@image/user.png" />
                    </image>
                </ImageView>

                <VBox alignment="CENTER_LEFT" spacing="2">
                    <Label style="-fx-font-size: 13px; -fx-font-weight: 700; -fx-text-fill: #3E2B1F;" text="Staff" />
                    <Label style="-fx-font-size: 11px; -fx-text-fill: #7A6A5E;" text="Not logged in" />
                </VBox>
            </HBox>
        </HBox>
    </top>

    <!-- CENTER -->
    <center>
        <HBox spacing="14">
            <padding>
                <Insets bottom="18" left="18" right="18" top="18" />
            </padding>

            <!-- LEFT: MENU  -->
            <VBox prefWidth="220" spacing="12" style="-fx-background-color: rgba(255,255,255,0.92);                          -fx-background-radius: 18;                          -fx-border-radius: 18;                          -fx-border-color: rgba(62,43,31,0.12);                          -fx-border-width: 1;">
                <padding>
                    <Insets bottom="14" left="14" right="14" top="14" />
                </padding>

                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label style="-fx-font-size: 14px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="Choose Menu" />
                    <Region HBox.hgrow="ALWAYS" />
                </HBox>

                <!-- “All Menu” item (visual only) -->
                <VBox spacing="4" style="-fx-background-color: rgba(139,94,60,0.08);                              -fx-background-radius: 14;                              -fx-padding: 12;">
                    <Label style="-fx-font-size: 14px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="All Menu" />
                    <Label style="-fx-font-size: 11px; -fx-text-fill:#7A6A5E;" text="Items" />
                </VBox>

                <!-- Category checkboxes -->
                <CheckBox fx:id="ctBaked" mnemonicParsing="false" style="-fx-text-fill:#3E2B1F; -fx-font-weight: 900;                                  -fx-background-color: rgba(255,255,255,0.0);                                  -fx-padding: 10 10 10 10;                                  -fx-background-radius: 14;" text="Baked" />

                <CheckBox fx:id="ctCake" mnemonicParsing="false" style="-fx-text-fill:#3E2B1F; -fx-font-weight: 900;                                  -fx-background-color: rgba(255,255,255,0.0);                                  -fx-padding: 10 10 10 10;                                  -fx-background-radius: 14;" text="Cake" />

                <CheckBox fx:id="ctCookie" mnemonicParsing="false" style="-fx-text-fill:#3E2B1F; -fx-font-weight: 900;                                  -fx-background-color: rgba(255,255,255,0.0);                                  -fx-padding: 10 10 10 10;                                  -fx-background-radius: 14;" text="Cookie" />

                <!-- Search box-->
                <Label style="-fx-font-size: 12px; -fx-font-weight: 900; -fx-text-fill:#5B4B40;" text="Search" />
                <TextField fx:id="findProduct" prefHeight="38" promptText="Search product name..." style="-fx-background-radius: 12;                                   -fx-border-radius: 12;                                   -fx-border-color: rgba(62,43,31,0.16);                                   -fx-border-width: 1;                                   -fx-padding: 0 12 0 12;" />

                <Region VBox.vgrow="ALWAYS" />

                 <Button fx:id="btnBack" onAction="#goBack" prefHeight="40" prefWidth="183.0" style="-fx-background-color: #8B5E3C; -fx-text-fill: white; -fx-font-weight: 800; -fx-background-radius: 12;" text="← Back to Home" />
            </VBox>

            <!-- MIDDLE: PRODUCT GRID -->
            <VBox prefWidth="560" spacing="12" style="-fx-background-color: rgba(255,255,255,0.92);                          -fx-background-radius: 18;                          -fx-border-radius: 18;                          -fx-border-color: rgba(62,43,31,0.12);                          -fx-border-width: 1;">
                <padding>
                    <Insets bottom="14" left="14" right="14" top="14" />
                </padding>

                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label style="-fx-font-size: 18px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="Products" />
                    <Region HBox.hgrow="ALWAYS" />
            
                    <Label style="-fx-font-size: 12px; -fx-font-weight: 800; -fx-text-fill:#7A6A5E;" text="Select items to add" />
                </HBox>

                <ScrollPane fitToWidth="true" prefHeight="560" style="-fx-background-color: transparent;">
                    <content>
                        <GridPane fx:id="productGrid" hgap="12" style="-fx-padding: 6 2 6 2;" vgap="12" />
                    </content>
                </ScrollPane>
            </VBox>

            <!-- RIGHT: ORDER SUMMARY -->
            <VBox prefWidth="300" spacing="12" style="-fx-background-color: rgba(255,255,255,0.92);                          -fx-background-radius: 18;                          -fx-border-radius: 18;                          -fx-border-color: rgba(62,43,31,0.12);                          -fx-border-width: 1;">
                <padding>
                    <Insets bottom="14" left="14" right="14" top="14" />
                </padding>

                <!-- Header summary -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <VBox spacing="2">
                        <Label style="-fx-font-size: 16px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="Order Summary" />
                        <Label fx:id="dateOrder" style="-fx-font-size: 11px; -fx-text-fill:#7A6A5E;" text="Date" />
                    </VBox>

                    <Region HBox.hgrow="ALWAYS" />
                </HBox>

                <!-- Customer quick info -->
                <VBox spacing="8" style="-fx-background-color: rgba(139,94,60,0.08);                              -fx-background-radius: 14;                              -fx-padding: 12;">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="-fx-font-size: 12px; -fx-font-weight: 900; -fx-text-fill:#5B4B40;" text="Customer" />
                        <Region HBox.hgrow="ALWAYS" />
                        <CheckBox fx:id="Transfer" style="-fx-text-fill:#3E2B1F; -fx-font-weight: 900;" text="Transfer" />
                    </HBox>

                    <Label fx:id="customer" style="-fx-font-size: 14px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="Visitor" />

                    <TextField fx:id="phonefind" prefHeight="36" promptText="Find customer by phone" style="-fx-background-radius: 12;                                       -fx-border-radius: 12;                                       -fx-border-color: rgba(62,43,31,0.16);                                       -fx-border-width: 1;                                       -fx-padding: 0 12 0 12;" />

                    <Button fx:id="addcus" maxWidth="1.7976931348623157E308" onAction="#addcus" prefHeight="36" style="-fx-background-color: linear-gradient(to right, #8B5E3C, #A47148);                                    -fx-text-fill: white;                                    -fx-font-weight: 900;                                    -fx-background-radius: 12;                                    -fx-cursor: hand;" text="+ Add New Customer" />
                </VBox>

                <!-- Order detail table -->
                <Label style="-fx-font-size: 13px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="Order Detail" />

                <TableView fx:id="orderDetail" prefHeight="360" style="-fx-background-radius: 12;                                   -fx-border-radius: 12;                                   -fx-border-color: rgba(62,43,31,0.12);                                   -fx-border-width: 1;">
                    <columns>
                        <TableColumn fx:id="ProductName" prefWidth="140.0" text="Product" />
                        <TableColumn fx:id="Number" prefWidth="50.0" text="Qty" />
                        <TableColumn fx:id="CostColum" prefWidth="67.20002746582031" text="Cost" />
                        <TableColumn fx:id="Price" prefWidth="70.0" text="Price" />
                        <TableColumn fx:id="TotalPrice" prefWidth="85.0" text="Total" />
                        <TableColumn fx:id="DelColum" prefWidth="45.0" text="Del" />
                    </columns>
                </TableView>

                <Region VBox.vgrow="ALWAYS" />

                <!-- Total + Order button -->
                <VBox spacing="10" style="-fx-background-color: rgba(139,94,60,0.08);                              -fx-background-radius: 14;                              -fx-padding: 12;">
                    <HBox alignment="CENTER_LEFT" spacing="10">
                        <Label style="-fx-font-size: 13px; -fx-font-weight: 900; -fx-text-fill:#5B4B40;" text="Total" />
                        <Region HBox.hgrow="ALWAYS" />
                        <Label fx:id="totalOrder" style="-fx-font-size: 18px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="Total" />
                    </HBox>

                    <Button fx:id="buttonOrder" maxWidth="1.7976931348623157E308" onAction="#handleOrder" prefHeight="42" style="-fx-background-color: linear-gradient(to right, #8B5E3C, #A47148);                                    -fx-text-fill: white;                                    -fx-font-weight: 900;                                    -fx-background-radius: 12;                                    -fx-cursor: hand;" text="Proceed Order" />
                </VBox>

            </VBox>

        </HBox>
    </center>

</BorderPane>
