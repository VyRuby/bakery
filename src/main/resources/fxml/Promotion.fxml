<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700.0" prefWidth="1100.0" style="-fx-background-color: #F6F7FB;"   xmlns="http://javafx.com/javafx"
xmlns:fx="http://javafx.com/fxml" fx:controller="controller.PromotionController">

    <!-- TOP BAR -->
    <top>
        <HBox alignment="CENTER_LEFT" prefHeight="78.0" spacing="14.0" style="-fx-background-color: white; -fx-border-color: #E6E8EF; -fx-border-width: 0 0 1 0;">
            <padding>
                <Insets bottom="14" left="18" right="18" top="14" />
            </padding>

            <!-- Logo -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <ImageView fitHeight="42.0" fitWidth="42.0" preserveRatio="true">
                    <image>
                        <Image url="@image/logo.png" />
                    </image>
                </ImageView>

                <VBox alignment="CENTER_LEFT" spacing="2">
                    <Label style="-fx-font-size: 18px; -fx-font-weight: 800; -fx-text-fill: #1F2A37;" text="GATEAUET" />
                    <Label style="-fx-font-size: 12px; -fx-text-fill: #6B7280;" text="Promotion Management" />
                </VBox>
            </HBox>

            <Region HBox.hgrow="ALWAYS" />

            <!-- Banner (optional) -->
            <ImageView fitHeight="38.0" fitWidth="140.0" opacity="0.92" preserveRatio="true">
                <image>
                    <Image url="@image/top-banner.png" />
                </image>
            </ImageView>

            <Region HBox.hgrow="ALWAYS" />

            <!-- User / login -->
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <ImageView fitHeight="36.0" fitWidth="36.0" preserveRatio="true">
                    <image>
                        <Image url="@image/user.png" />
                    </image>
                </ImageView>

                <VBox alignment="CENTER_LEFT" spacing="2">
                    <Label fx:id="lblUser" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #111827;" text="Staff" />
                    <Label fx:id="lblStatus" style="-fx-font-size: 11px; -fx-text-fill: #6B7280;" text="Not logged in" />
                </VBox>

                </HBox>
        </HBox>
    </top>

    <!-- LEFT SIDEBAR -->
    <left>
        <VBox prefWidth="260" spacing="12" style="-fx-background-color: white; -fx-border-color: #E6E8EF; -fx-border-width: 0 1 0 0;">
            <padding>
                <Insets bottom="16" left="14" right="14" top="16" />
            </padding>

            <Label style="-fx-font-size: 14px; -fx-font-weight: 800; -fx-text-fill: #111827;" text="Search" />

            <TextField fx:id="txtSearch" onKeyReleased="#onSearchChanged" promptText="Search by code / name..." style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #E6E8EF;" />

            <Label style="-fx-font-size: 14px; -fx-font-weight: 800; -fx-text-fill: #111827;" text="Filter" />

            <ComboBox fx:id="cbFilter" onAction="#onFilterChanged" promptText="Choose filter..." style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #E6E8EF;" />

            <Separator />

            <Label style="-fx-font-size: 14px; -fx-font-weight: 800; -fx-text-fill: #111827;" text="Quick actions" />

            <Button fx:id="btnRefresh" maxWidth="1.7976931348623157E308" onAction="#onRefresh" prefHeight="38" style="-fx-background-color: #F3F4F6; -fx-text-fill: #111827; -fx-font-weight: 800; -fx-background-radius: 12;" text="Refresh" />

            <Region VBox.vgrow="ALWAYS" />

            <!-- Back button chung -->
            <Button fx:id="btnBack" maxWidth="1.7976931348623157E308" onAction="#goBack" prefHeight="40" style="-fx-background-color: #8B5E3C; -fx-text-fill: white; -fx-font-weight: 800; -fx-background-radius: 12;" text="← Back to Home" />
        </VBox>
    </left>

    <!-- CENTER MAIN -->
    <center>
        <VBox spacing="12" style="-fx-background-color: #F6F7FB;">
            <padding>
                <Insets bottom="18" left="18" right="18" top="18" />
            </padding>

            <!-- Header row + CRUD -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 20px; -fx-font-weight: 900; -fx-text-fill: #111827;" text="Promotions" />

                <Region HBox.hgrow="ALWAYS" />

                <Button fx:id="btnAdd" onAction="#onAdd" prefHeight="34" prefWidth="90" style="-fx-background-color: #8B5E3C; -fx-text-fill: white; -fx-font-weight: 800; -fx-background-radius: 10;" text="+ Add" />

                <Button fx:id="btnEdit" onAction="#onEdit" prefHeight="34" prefWidth="90" style="-fx-background-color: #F6E8D5; -fx-text-fill: Brown; -fx-font-weight: 800; -fx-background-radius: 10;" text="Edit" />

                <Button fx:id="btnDelete" onAction="#onDelete" prefHeight="34" prefWidth="90" style="-fx-background-color: #FEE2E2; -fx-text-fill: #B91C1C; -fx-font-weight: 800; -fx-background-radius: 10;" text="Delete" />

            </HBox>

            <!-- Table -->
            <VBox spacing="10" style="-fx-background-color: white; -fx-background-radius: 18; -fx-border-radius: 18; -fx-border-color: #E6E8EF;">
                <padding>
                    <Insets bottom="12" left="12" right="12" top="12" />
                </padding>

                <TableView fx:id="tblPromotions" prefHeight="540" style="-fx-background-radius: 14; -fx-border-radius: 14;">
                    <columns>
                        
                        <TableColumn fx:id="colId" prefWidth="70" text="ID" />
                        <TableColumn fx:id="colName" prefWidth="183.33341217041016" text="Name" />
                        <TableColumn fx:id="colDiscount" prefWidth="107.33323669433594" text="Discount" />
                        <TableColumn fx:id="colStartTime" minWidth="0.0" prefWidth="123.33331298828125" text="Start Time" />
                        <TableColumn fx:id="colEndTime" prefWidth="130.66671752929688" text="End Time" />
                        <TableColumn fx:id="colType" prefWidth="100.0" text="Type" />
                        <TableColumn fx:id="colValue" prefWidth="90" text="Value" />
                        <TableColumn fx:id="colStatus" prefWidth="100.0" text="Status" />
                    </columns>
                </TableView>

                <Label fx:id="lblHint" style="-fx-font-size: 11px; -fx-text-fill: #6B7280;" text="Tip: chọn 1 dòng rồi bấm Edit/Delete." />
            </VBox>
        </VBox>
    </center>

    <!-- BOTTOM BAR -->
    <bottom>
        <HBox alignment="CENTER" prefHeight="50" style="-fx-background-color: white; -fx-border-color: #E6E8EF; -fx-border-width: 1 0 0 0;">
            <padding>
                <Insets bottom="10" left="18" right="18" top="10" />
            </padding>
            <Label text=" " />
        </HBox>
    </bottom>

</BorderPane>
