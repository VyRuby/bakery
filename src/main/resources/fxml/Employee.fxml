<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane style="-fx-background-color: #F6EFE6;" xmlns="http://javafx.com/javafx/25" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.EmployeeController">

    <!-- ================= LEFT : SIDEBAR ================= -->
    <left>
        <VBox prefHeight="597.0" prefWidth="223.0" spacing="14" style="-fx-background-color: rgba(255,255,255,0.92);                      -fx-border-color: rgba(62,43,31,0.12);                      -fx-border-width: 0 1 0 0;">
            <padding>
                <Insets bottom="18" left="14" right="14" top="18" />
            </padding>
             <ImageView fitHeight="81.0" fitWidth="190.0" preserveRatio="true" smooth="true">
                 <image>
                     <Image url="@../image/logo.jpeg" />
                 </image>
             </ImageView>

            <!-- Menu (visual only) -->
            <VBox spacing="8">
                <Label style="-fx-font-size: 11px; -fx-font-weight: 900; -fx-text-fill: #7A6A5E;" text="MAIN MENU" />

                <Button maxWidth="1.7976931348623157E308" style="-fx-background-color: rgba(139,94,60,0.14);                                -fx-text-fill: #3E2B1F;                                -fx-font-weight: 900;                                -fx-background-radius: 12;                                -fx-alignment: CENTER_LEFT;                                -fx-padding: 10 12;" text="Employee Module" />

                <Button maxWidth="1.7976931348623157E308" onAction="#goBack" style="-fx-background-color: #8B5E3C; -fx-text-fill: white;     -fx-font-weight: 900;                                -fx-background-radius: 12;                                -fx-alignment: CENTER_LEFT;                                -fx-padding: 10 12;                                -fx-cursor: hand;" text="â†Back to Home" />
            </VBox>

            <Region VBox.vgrow="ALWAYS" />

            <!-- Quick actions bottom (visual) -->
            <VBox prefHeight="183.0" prefWidth="211.0" spacing="10" style="-fx-background-color: rgba(139,94,60,0.08);                          -fx-background-radius: 16;                          -fx-padding: 12;">
                <Label style="-fx-font-size: 12px; -fx-font-weight: 900; -fx-text-fill: #5B4B40;" text="Quick actions" />
                <Button maxWidth="1.7976931348623157E308" onAction="#handleAdd" style="-fx-background-color: linear-gradient(to right, #8B5E3C, #A47148);                                -fx-text-fill: white;                                -fx-font-weight: 900;                                -fx-background-radius: 12;                                -fx-padding: 10 12;                                -fx-cursor: hand;" text="Add employee" />
   
               <Button onAction="#handleUpdate" prefHeight="37.0" prefWidth="192.0" style="-fx-background-color: rgba(139,94,60,0.12);                            -fx-text-fill: #3E2B1F;                            -fx-font-weight: 900;                            -fx-background-radius: 12;                            -fx-padding: 10 16;                            -fx-cursor: hand;" text="Update" />
   
                     <Button onAction="#handleDeactivate" prefHeight="37.0" prefWidth="198.0" style="-fx-background-color: rgba(220,38,38,0.12);                            -fx-text-fill: #B91C1C;                            -fx-font-weight: 900;                            -fx-background-radius: 12;                            -fx-padding: 10 16;                            -fx-cursor: hand;" text="Deactivate" />
            </VBox>
        </VBox>
    </left>

    <!-- ================= TOP : HEADER + FILTER ================= -->
    <top>
        <VBox spacing="12" style="-fx-background-color: transparent;">
            <padding>
                <Insets bottom="10" left="18" right="18" top="18" />
            </padding>

            <!-- Header row -->
            <HBox alignment="CENTER_LEFT" spacing="12">
                <VBox prefHeight="53.0" prefWidth="264.0" spacing="3">
                    <Label style="-fx-font-size: 22px; -fx-font-weight: 900; -fx-text-fill: #3E2B1F;" text="Employee" />
                    <Label style="-fx-font-size: 12px; -fx-text-fill: #7A6A5E;" text="Manage employee list, filter and actions" />
                </VBox>

                <Region HBox.hgrow="ALWAYS" />

                <!-- Right actions -->
                <HBox alignment="CENTER_RIGHT" spacing="10" />
            </HBox>

            <!-- Filter card -->
            <HBox alignment="CENTER_LEFT" spacing="10" style="-fx-background-color: rgba(255,255,255,0.92);                          -fx-background-radius: 16;                          -fx-border-radius: 16;                          -fx-border-color: rgba(62,43,31,0.12);                          -fx-border-width: 1;                          -fx-padding: 12;">

                <Label style="-fx-text-fill: #5B4B40; -fx-font-weight: 900;" text="Status" />

                <ComboBox fx:id="cbFilterStatus" prefWidth="160" style="-fx-background-radius: 12;                                  -fx-border-radius: 12;                                  -fx-border-color: rgba(62,43,31,0.16);                                  -fx-border-width: 1;" />

                <Region prefWidth="6" />

                <Label style="-fx-text-fill: #5B4B40; -fx-font-weight: 900;" text="Search" />

                <TextField fx:id="txtSearch" prefWidth="360" promptText="Name/ Email" style="-fx-background-radius: 12;                                   -fx-border-radius: 12;                                   -fx-border-color: rgba(62,43,31,0.16);                                   -fx-border-width: 1;                                   -fx-padding: 0 12 0 12;" />

                <Region HBox.hgrow="ALWAYS" />
            <Label style="-fx-font-size: 11px; -fx-text-fill:#7A6A5E;" />

                <Button onAction="#handleSearch" style="-fx-background-color: #8B5E3C;                                -fx-text-fill: white;                                -fx-font-weight: 900;                                -fx-background-radius: 12;                                -fx-padding: 8 14;                                -fx-cursor: hand;" text="Search" />
                 <Button onAction="#handleLoad" style="-fx-background-color: rgba(139,94,60,0.12);                                    -fx-text-fill: #3E2B1F;                                    -fx-font-weight: 900;                                    -fx-background-radius: 12;                                    -fx-padding: 8 14;                                    -fx-cursor: hand;" text="Load" />
                 <!--<Button onAction="#handleAdd" style="-fx-background-color: linear-gradient(to right, #8B5E3C, #A47148);                                    -fx-text-fill: white;                                    -fx-font-weight: 900;                                    -fx-background-radius: 12;                                    -fx-padding: 8 14;                                    -fx-cursor: hand;" text="+ Add" />-->
            </HBox>
        </VBox>
    </top>

    <!-- ================= CENTER : TABLE CARD ================= -->
    <center>
        <VBox style="-fx-background-color: transparent;">
            <padding>
                <Insets bottom="18" left="18" right="18" top="0" />
            </padding>

            <VBox spacing="10" style="-fx-background-color: rgba(255,255,255,0.92);                          -fx-background-radius: 18;                          -fx-border-radius: 18;                          -fx-border-color: rgba(62,43,31,0.12);                          -fx-border-width: 1;">
                <padding>
                    <Insets bottom="14" left="14" right="14" top="14" />
                </padding>

                <!-- Table header row -->
                <HBox alignment="CENTER_LEFT" spacing="10">
                    <Label style="-fx-font-size: 16px; -fx-font-weight: 900; -fx-text-fill:#3E2B1F;" text="Employee List" />
                    <Region HBox.hgrow="ALWAYS" />
                    <Label style="-fx-font-size: 11px; -fx-text-fill:#7A6A5E;" text="Tip: click the button after searching and sorting" />
                </HBox>

                <TableView fx:id="tblEmployee" prefHeight="520" style="-fx-background-radius: 12;                                   -fx-border-radius: 12;                                   -fx-border-color: rgba(62,43,31,0.12);                                   -fx-border-width: 1;">
                    <columns>
                        <TableColumn fx:id="colId" prefWidth="70" text="ID" />
                        <TableColumn fx:id="colName" prefWidth="170" text="Full Name" />
                        <TableColumn fx:id="colDob" prefWidth="110" text="DOB" />
                        <TableColumn fx:id="colGender" prefWidth="90" text="Gender" />
                        <TableColumn fx:id="colPhone" prefWidth="120" text="Phone" />
                        <TableColumn fx:id="colEmail" prefWidth="190" text="Email" />
                        <TableColumn fx:id="colPosition" prefWidth="120" text="Position" />
                        <TableColumn fx:id="colStatus" prefWidth="90" text="Status" />
                    </columns>
                </TableView>
            </VBox>
        </VBox>
    </center>

    <!-- ================= BOTTOM : ACTIONS ================= -->
    <bottom>
        <HBox alignment="CENTER_RIGHT" spacing="12" style="-fx-background-color: transparent;">
            <padding>
                <Insets bottom="18" left="18" right="18" top="0" />
            </padding>
        </HBox>
    </bottom>

</BorderPane>
