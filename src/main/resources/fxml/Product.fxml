<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.control.ComboBox?>
<?import javafx.scene.control.Label?>
<?import javafx.scene.control.RadioButton?>
<?import javafx.scene.control.Separator?>
<?import javafx.scene.control.TableColumn?>
<?import javafx.scene.control.TableView?>
<?import javafx.scene.control.TextField?>
<?import javafx.scene.control.ToggleGroup?>
<?import javafx.scene.image.Image?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.BorderPane?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.layout.Region?>
<?import javafx.scene.layout.VBox?>

<BorderPane prefHeight="700.0" prefWidth="1100.0" style="-fx-background-color: #F6F7FB;" xmlns="http://javafx.com/javafx/13" xmlns:fx="http://javafx.com/fxml/1" fx:controller="controller.ProductController">

    <!-- TOP BAR (giống Home) -->
    <top>
        <HBox alignment="CENTER_LEFT" prefHeight="78.0" spacing="14.0" style="-fx-background-color: white; -fx-border-color: #E6E8EF; -fx-border-width: 0 0 1 0;">
            <padding>
                <Insets bottom="14" left="18" right="18" top="14" />
            </padding>

            <!-- Logo -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <ImageView fitHeight="42.0" fitWidth="42.0" preserveRatio="true">
                    <image>
                        <Image url="@image/logo.png" />
                    </image>
                </ImageView>

                <VBox alignment="CENTER_LEFT" spacing="2">
                    <Label style="-fx-font-size: 18px; -fx-font-weight: 800; -fx-text-fill: #1F2A37;" text="GATEAUET" />
                    <Label style="-fx-font-size: 12px; -fx-text-fill: #6B7280;" text="Product Management" />
                </VBox>
            </HBox>

            <Region HBox.hgrow="ALWAYS" />

            <!-- Banner (optional) -->
            <ImageView fitHeight="38.0" fitWidth="140.0" opacity="0.92" preserveRatio="true">
                <image>
                    <Image url="@image/top-banner.png" />
                </image>
            </ImageView>

            <Region HBox.hgrow="ALWAYS" />

            <!-- User / login -->
            <HBox alignment="CENTER_RIGHT" spacing="10">
                <ImageView fitHeight="36.0" fitWidth="36.0" preserveRatio="true">
                    <image>
                        <Image url="@image/user.png" />
                    </image>
                </ImageView>

                <VBox alignment="CENTER_LEFT" spacing="2">
                    <Label fx:id="lblUser" style="-fx-font-size: 13px; -fx-font-weight: 600; -fx-text-fill: #111827;" text="Staff" />
                    <Label fx:id="lblStatus" style="-fx-font-size: 11px; -fx-text-fill: #6B7280;" text="Not logged in" />
                </VBox>

                <Button fx:id="btnLogin" onAction="#onLogin" prefHeight="34" prefWidth="92" style="-fx-background-color: #8B5E3C; -fx-text-fill: white; -fx-font-weight: 700; -fx-background-radius: 10;" text="Login" />

                <Button fx:id="btnLogout" onAction="#onLogout" prefHeight="34" prefWidth="92" style="-fx-background-color: #EEF2FF; -fx-text-fill: #8B5E3C; -fx-font-weight: 700; -fx-background-radius: 10;" text="Logout" />
            </HBox>
        </HBox>
    </top>

   
    <left>
        <VBox prefWidth="260" spacing="12" style="-fx-background-color: white; -fx-border-color: #E6E8EF; -fx-border-width: 0 1 0 0;">
            <padding>
                <Insets bottom="16" left="14" right="14" top="16" />
            </padding>
           
    <fx:define>
        <ToggleGroup fx:id="categoryGroup" />
    </fx:define>

            <Label style="-fx-font-size: 14px; -fx-font-weight: 800; -fx-text-fill: #111827;" text="Category" />

          
            <RadioButton fx:id="rbCat1" onAction="#onCategoryChanged" text="Bread" toggleGroup="$categoryGroup"/>
        
            <RadioButton fx:id="rbCat2" onAction="#onCategoryChanged" text="Cake" toggleGroup="$categoryGroup" />
            <RadioButton fx:id="rbCat3" onAction="#onCategoryChanged" text="Cookie" toggleGroup="$categoryGroup" />

            <Separator />

            <Label style="-fx-font-size: 14px; -fx-font-weight: 800; -fx-text-fill: #111827;" text="Search" />

            <TextField fx:id="txtSearch" onKeyReleased="#onSearchChanged" promptText="Search by name / code..." style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #E6E8EF;" />

            <Label style="-fx-font-size: 14px; -fx-font-weight: 800; -fx-text-fill: #111827;" text="Filter" />

            <ComboBox fx:id="cbFilter" onAction="#onFilterChanged" promptText="Choose filter..." style="-fx-background-radius: 10; -fx-border-radius: 10; -fx-border-color: #E6E8EF;" />

            <Region VBox.vgrow="ALWAYS" />

            <!-- Back button chung (copy y chang qua các trang khác) -->
            <Button fx:id="btnBack" maxWidth="1.7976931348623157E308" onAction="#onBack" prefHeight="40" style="-fx-background-color: #8B5E3C; -fx-text-fill: white; -fx-font-weight: 800; -fx-background-radius: 12;" text="← Back to Home" />
        </VBox>
    </left>

    <!-- CENTER MAIN -->
    <center>
        <VBox alignment="TOP_LEFT" spacing="12" style="-fx-background-color: #EED9C4;">
            <padding>
                <Insets bottom="18" left="18" right="18" top="18" />
            </padding>

            <!-- Header row + CRUD -->
            <HBox alignment="CENTER_LEFT" spacing="10">
                <Label style="-fx-font-size: 20px; -fx-font-weight: 900; -fx-text-fill: #111827;" text="Products" />

                <Region HBox.hgrow="ALWAYS" />

                <!-- CRUD buttons -->
                <Button fx:id="btnAdd" onAction="#onAdd" prefHeight="34" prefWidth="90" style="-fx-background-color: #8B5E3C; -fx-text-fill: white; -fx-font-weight: 800; -fx-background-radius: 10;" text="+ Add" />

                <Button fx:id="btnEdit" onAction="#onEdit" prefHeight="34" prefWidth="90" style="-fx-background-color: #F6E8D5; -fx-text-fill: Brown; -fx-font-weight: 800; -fx-background-radius: 10;" text="Edit" />

                <Button fx:id="btnDelete" onAction="#onDelete" prefHeight="34" prefWidth="90" style="-fx-background-color: #FEE2E2; -fx-text-fill: #B91C1C; -fx-font-weight: 800; -fx-background-radius: 10;" text="Delete" />

                <Button fx:id="btnRefresh" onAction="#onRefresh" prefHeight="34" prefWidth="100" style="-fx-background-color: #F3F4F6; -fx-text-fill: #111827; -fx-font-weight: 800; -fx-background-radius: 10;" text="Refresh" />
            </HBox>

            <!-- Table -->
            <VBox spacing="10" style="-fx-background-color: white; -fx-background-radius: 18; -fx-border-radius: 18; -fx-border-color: #E6E8EF;">
                <padding>
                    <Insets bottom="12" left="12" right="12" top="12" />
                </padding>

                <TableView fx:id="tblProducts" prefHeight="520" style="-fx-background-radius: 14; -fx-border-radius: 14;">
                    <columns>
                       
                        <TableColumn fx:id="colId" prefWidth="70" text="ID" />
                        <TableColumn fx:id="colName" prefWidth="220" text="Name" />
                        <TableColumn fx:id="colCategory" prefWidth="120" text="Category" />
                        <TableColumn fx:id="colPrice" prefWidth="126.66671752929688" text="Price" />
                        <TableColumn fx:id="colQuantity" prefWidth="104.66668701171875" text="Quantity" />
                        <TableColumn fx:id="colUnit" prefWidth="135.33331298828125" text="Unit" />
                    </columns>
                </TableView>

                <Label fx:id="lblHint" style="-fx-font-size: 11px; -fx-text-fill: #6B7280;" text="Tip: chọn 1 dòng rồi bấm Edit/Delete." />
            </VBox>
        </VBox>
    </center>

    <!-- BOTTOM BAR -->
    <bottom>
        <HBox alignment="CENTER" prefHeight="50" style="-fx-background-color: white; -fx-border-color: #E6E8EF; -fx-border-width: 1 0 0 0;">
            <padding><Insets bottom="10" left="18" right="18" top="10" /></padding>
            <Label text=" " />
        </HBox>
    </bottom>

</BorderPane>
